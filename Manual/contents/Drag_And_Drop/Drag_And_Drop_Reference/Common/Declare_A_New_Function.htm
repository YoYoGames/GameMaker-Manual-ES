<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Declarar una nueva función</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Section detailing Declare A New Function" />
  <meta name="rh-index-keywords" content="GML Visual Action - Declare A New Function" />
  <meta name="search-keywords" content="Declare A New Function" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1><img> Declarar una nueva función</h1>
  <p>Esta acción se puede utilizar para crear una nueva función definida por el usuario, que posteriormente se puede llamar en cualquier momento en su código. Una función definida por el usuario es aquella que se define para realizar una tarea que no está cubierta por las acciones integradas de <span class="notranslate">GML</span> Visual o las funciones de ejecución de <span class="notranslate">GML</span>, y puede tener un alcance global, de instancia o local (consulte <a href="../../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">aquí</a> para obtener más información sobre el alcance); también pueden utilizarse como <b>constructores</b> para crear <a href="../../../GameMaker_Language/GML_Overview/Structs.htm">estructuras</a>. Para saber más sobre el uso de esta acción para crear funciones globales, consulte la sección sobre la <a href="../../Drag_And_Drop_Overview/Action_Block_Functions.htm">creación de funciones de acción</a>.</p>
  <p>Para utilizar esta acción, puedes añadirla a un evento o a un script y dar un nombre a la nueva función. A continuación, proporciona los argumentos/parámetros necesarios que tomará la función, y los valores por defecto para cualquier argumento opcional.</p>
  <p>Si la función se va a utilizar como constructor (que se utiliza para crear un <span class="notranslate">struct</span>), entonces debe marcar la opción <strong>Constructor </strong>y posteriormente utilizar la acción <a href="New.htm">Nuevo</a> para crear un <span class="notranslate">struct</span> a partir de la función. También puede <span class="notranslate">flag</span> la función como <b>estática</b>, lo que significa que sólo se definirá una vez sin importar cuántas veces se ejecute esta acción. Por último, si la función sólo va a ser utilizada localmente en el mismo evento y en ningún otro lugar, entonces puede activar la opción <strong>Temp </strong>.</p>
  <p>Una vez que hayas definido el nombre y los parámetros, puedes adjuntar las acciones que quieres que la función ejecute cuando sea llamada en tu código, soltándolas al lado de la acción como se muestra en la imagen de abajo:</p>
  <p><img>Puede ver ejemplos de uso de esta acción como función normal y como función constructora en la sección &quot;Ejemplos ampliados&quot; que aparece a continuación.</p>
  <p> </p>
  <h4>Sintaxis de la acción:</h4>
  <p><img alt="Declare A New Function Icon" class="icon" src="../../../assets/Images/Scripting_Reference/Drag_And_Drop/Reference/Common/i_Common_Declare_Function.png" /></p>
  <h4>Argumentos:</h4>
  <table>
    <tbody>
      <tr>
        <th>Argumento</th>
        <th>Descripción</th>
      </tr>
      <tr>
        <td><span class="notranslate">Name</span></td>
        <td>El nombre de la nueva función.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Argument [+]</span></td>
        <td>Los diferentes argumentos que se pueden pasar a la función, y sus valores por defecto si son opcionales.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Constructor</span></td>
        <td>Si esta función es un constructor.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Static</span></td>
        <td>Si esta función es estática.</td>
      </tr>
      <tr>
        <td><span class="notranslate">Temp</span></td>
        <td>Si la función es temporal (lo que significa que sólo se utiliza dentro del evento actual).</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h1>Ejemplos ampliados</h1>
  <h4>Ejemplo ampliado 1</h4>
  <p><img>El bloque de acción anterior iría en el <b>evento Create</b> de una instancia o de un <span class="notranslate">script</span>, y declara una nueva función llamada <span class="inline">set_vec</span> con tres argumentos: <span class="inline">_x</span>, <span class="inline">_y</span> y <span class="inline">spd</span>. Estos argumentos se utilizan en las acciones que contiene la función para establecer la dirección y la velocidad de la instancia, lo que ocurre cuando se llama a la función. Más tarde se llamaría a la función utilizando la acción de <a href="Function_Call.htm">llamada a la</a> función en cualquier evento posterior, así:</p>
  <p><img>En la imagen anterior, se llama a la función <span class="inline">set_vec</span> que cambia la dirección de la instancia para que apunte hacia la posición X/Y del ratón y establece la velocidad a 5.</p>
  <p> </p>
  <h4 id="h">Ejemplo ampliado 2</h4>
  <p><img>El bloque de acción anterior iría en el <b>evento Create</b> de una instancia o de un <span class="notranslate">script</span>, y declara una nueva función <strong>constructora</strong> llamada <span class="inline">init_char_struct</span> con cuatro argumentos: <span class="inline">_name</span>, <span class="inline">_location</span>, <span class="inline">_hp</span> y <span class="inline">_mana</span>, siendo los dos últimos opcionales con un valor por defecto de 100 (esto significa que si esos argumentos no se especifican cuando se llama a la función, se usarán sus valores por defecto en su lugar). Estos argumentos se utilizan para crear algunas variables dentro de <span class="notranslate">struct</span> que la función está creando.</p>
  <p>Más tarde se llamaría a esta función utilizando la acción <a href="New.htm">New</a> para crear un <span class="notranslate">struct</span>, así:</p>
  <p><img>La función se llama y devolverá un nuevo <span class="notranslate">struct</span> que se almacena en el array <span class="inline">char</span>, y el <span class="notranslate">struct</span> se poblará con las variables <span class="inline">name</span>, <span class="inline">location</span>, <span class="inline">hp</span> y <span class="inline">mana</span>, ajustadas a los valores que se pasaron en los argumentos correspondientes en la llamada a la función.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Atrás: <a href="Common_Actions_Library.htm">Acciones comunes</a></div>
        <div style="float:right">Siguiente: <a href="Assign_Variable.htm">Asignación de la variable</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Todos los derechos reservados</span></h5>
  </div>
  <!-- KEYWORDS
Action - Declare A New Function
-->
  <!-- TAGS
action_declare_function
-->
</body>
</html>