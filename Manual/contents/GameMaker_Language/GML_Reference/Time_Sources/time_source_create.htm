<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Adobe RoboHelp 2022" />
  <title>time_source_create</title>
  <meta name="topic-status" content="Draft" />
  <link rel="stylesheet" type="text/css" href="../../../assets/css/default.css" />
  <script src="../../../assets/scripts/main_script.js"></script>
  <meta name="template" content="../../../assets/masterpages/Manual_Keyword_Page.htt" />
  <meta name="rh-authors" content="Gurpreet S. Matharoo" />
  <meta name="topic-comment" content="Reference page for time_source_create" />
  <meta name="rh-index-keywords" content="time_source_create" />
  <meta name="search-keywords" content="time_source_create" />
</head>
<body>
  <h1>time_source_create</h1>
  <p>Esta función crea una nueva Fuente de <span data-keyref="Type_Resource_TimeSource">Tiempo</span>. Lea Fuentes de <a data-xref="{title}" href="Time_Sources.htm">tiempo</a> para obtener una visión general.</p>
  <p>La creación de una nueva <span data-keyref="Type_Resource_TimeSource">Fuente de Tiempo</span> no la pone en marcha automáticamente; debe llamar a <a href="time_source_start.htm"><span class="inline">time_source_start()</span></a> para activarla.</p>
  <p>Una nueva <span data-keyref="Type_Resource_TimeSource">fuente de</span> tiempo sólo se ejecuta una vez, a menos que se especifique el argumento de <span class="inline2">las repeticiones</span> (leer más abajo).</p>
  <p>Debes destruir una <span data-keyref="Type_Resource_TimeSource">Fuente de</span> Tiempo utilizando <a href="time_source_destroy.htm"><span class="inline">time_source_destroy()</span></a> cuando ya no la necesites.</p>
  <h2>Argumentos</h2>
  <p>A continuación se detallan los argumentos de la función:</p>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#">Fuente de tiempo de los padres</a></h3>
  <div class="droptext" data-targetname="drop-down1">
    <p class="dropspot">Esta es la Fuente de <span data-keyref="Type_Resource_TimeSource">Tiempo</span> padre que controla la nueva Fuente de <span data-keyref="Type_Resource_TimeSource">Tiempo</span>. Puede ser <span class="inline2">time_source_global</span>, <span class="inline2">time_source_game</span> o una fuente de <span data-keyref="Type_Resource_TimeSource">tiempo</span> personalizada que ya existe.<br>
      <br>
      Ver: <a data-xref="{title}" href="Built_In_Time_Sources.htm">Fuentes de tiempo incorporadas</a>
    </p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#">Periodo</a></h3>
  <div class="droptext" data-targetname="drop-down2">
    <p class="dropspot">Se trata de un periodo de tiempo que puede expresarse en segundos o en fotogramas, dependiendo de la unidad especificada en el siguiente argumento.</p>
    <p class="dropspot">Cuando se utilizan fotogramas como unidad, el periodo debe ser un número entero. Los valores no enteros se redondean a la baja (por defecto), a excepción de los valores inferiores a 1, que se redondean a 1.</p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down3" href="#">Unidad</a></h3>
  <div class="droptext" data-targetname="drop-down3">
    <p class="dropspot">Es la unidad en la que se expresa el periodo, y puede ser <span class="inline2">time_source_units_seconds</span> o <span class="inline2">time_source_units_frames</span>.</p>
    <p class="dropspot">Ver: <a data-xref="{title}" href="Time_Source_Units.htm">Unidades de la fuente del tiempo</a></p>
    <p class="dropspot">Puede utilizar un valor de pulsaciones por minuto utilizando <span class="inline"><a href="time_bpm_to_seconds.htm">time_bpm_to_seconds()</a></span>.</p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down4" href="#">Llamada de retorno y Args</a></h3>
  <div class="droptext" data-targetname="drop-down4">
    <p class="dropspot">Debe especificar una &quot;devolución de llamada&quot; <a href="../../GML_Overview/Method_Variables.htm"><span class="notranslate">method</span></a> que se llama cuando la <span data-keyref="Type_Resource_TimeSource">Fuente de</span> Tiempo expira.</p>
    <p class="dropspot">Opcionalmente se puede especificar un array que contenga los argumentos que se deben pasar al método cuando se llama.</p>
    <p class="dropspot">El array en sí no se pasará al método, sino que cada elemento del array se pasará como un argumento separado.</p>
    <p class="dropspot">Por ejemplo, si su función espera los argumentos <span class="inline2">(x, y, <span class="notranslate">object</span>)</span>, entonces su matriz de <span class="inline2">argumentos</span> puede tener el siguiente aspecto <span class="inline2">[30, 600, obj_player</span>].</p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down5" href="#">Repeticiones</a></h3>
  <div class="droptext" data-targetname="drop-down5">
    <p class="dropspot">Puede especificar opcionalmente cuántas veces debe repetirse su <span data-keyref="Type_Resource_TimeSource">Fuente de Tiempo</span>. Un valor de <span class="inline2">1</span> significa que sólo se ejecuta una vez, que es el valor por defecto.</p>
    <p class="dropspot">Puede especificar el número total de veces que debe repetirse, o <span class="inline2">-1</span> para que se repita indefinidamente.</p>
    <p class="dropspot">Por ejemplo, si usted establece esto en 3, y su período de <span data-keyref="Type_Resource_TimeSource">Fuente</span> de Tiempo es &quot;4 segundos&quot;, entonces la <span data-keyref="Type_Resource_TimeSource">Fuente de Tiempo</span> estará activa por un total de 12 segundos y llamará al método de devolución de llamada cada 4 segundos.</p>
  </div>
  <h3><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down6" href="#">Tipo de caducidad</a></h3>
  <div class="droptext" data-targetname="drop-down6">
    <p class="dropspot">Puede ser <span class="inline2">time_source_expire_nearest</span> o <span class="inline2">time_source_expire_after</span>.</p>
    <p class="dropspot">Ver: <a data-xref="{title}" href="Time_Source_Expiry_Types.htm">Tipos de caducidad de la fuente de tiempo</a></p>
  </div>
  <p> </p>
  <h4>Sintaxis:</h4>
  <p class="code">time_source_create(parent, period, units, callback, [args, repetitions, expiry_type]);</p>
  <table>
    <colgroup>
      <col />
      <col />
      <col />
    </colgroup>
    <tbody>
      <tr>
        <th>Argumento</th>
        <th>Tipo</th>
        <th>Descripción</th>
      </tr>
      <tr>
        <td><span class="notranslate">parent</span></td>
        <td><span data-keyref="Type_ID_TimeSource"><a href="../../../../GameMaker_Language/GML_Reference/Time_Sources/time_source_create.htm" target="_blank">ID de la fuente de tiempo</a></span></td>
        <td><span class="notranslate">The parent <span data-keyref="Type_Resource_TimeSource">Time Source</span> que controla la nueva <span data-keyref="Type_Resource_TimeSource">fuente de tiempo</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">period</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td><span class="notranslate">The period that the <span data-keyref="Type_Resource_TimeSource">Time Source</span> se ejecuta para, en las unidades dadas</td>
      </tr>
      <tr>
        <td><span class="notranslate">units</span></td>
        <td><span data-keyref="Type_Constant_TimeSource_Unit"><a href="../../../../GameMaker_Language/GML_Reference/Time_Sources/Time_Source_Units.htm" target="_blank">Fuente de tiempo Unidad Constante</a></span></td>
        <td><span class="notranslate">The units that the given period is in</span></td>
      </tr>
      <tr>
        <td><span class="notranslate">callback</span></td>
        <td><span data-keyref="Type_Method"><a href="../../../../GameMaker_Language/GML_Overview/Method_Variables.htm" target="_blank">Método</a></span> o <span data-keyref="Type_Function_Script"><a href="../../../../GameMaker_Language/GML_Overview/Script_Functions.htm" target="_blank">Función de script</a></span></td>
        <td><span class="notranslate">The method or script function to call when the <span data-keyref="Type_Resource_TimeSource">Time Source</span> expira</td>
      </tr>
      <tr>
        <td><span class="notranslate">args</span></td>
        <td><span data-keyref="Type_Array"><a href="../../../../GameMaker_Language/GML_Overview/Arrays.htm" target="_blank">Matriz</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> Un array que contiene los argumentos a pasar al método</td>
      </tr>
      <tr>
        <td><span class="notranslate">repetitions</span></td>
        <td><span data-keyref="Type_Real"><a href="../../../../GameMaker_Language/GML_Overview/Data_Types.htm" target="_blank">Real</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> El número de veces que la <span data-keyref="Type_Resource_TimeSource">fuente de</span> tiempo debe repetirse, o -1 para una repetición indefinida</td>
      </tr>
      <tr>
        <td><span class="notranslate">expiry_type</span></td>
        <td><span data-keyref="Type_Constant_TimeSource_Expiry"><a href="../../../../GameMaker_Language/GML_Reference/Time_Sources/Time_Source_Expiry_Types.htm" target="_blank">Constante de caducidad de la fuente de tiempo</a></span></td>
        <td><span class="notranslate"><span class="optional">OPTIONAL</span> Si la <span data-keyref="Type_Resource_TimeSource">fuente de</span> tiempo expira en la trama más cercana a su vencimiento, o en la siguiente trama</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Devuelve:</h4>
  <p class="code"><span data-keyref="Type_ID_TimeSource"><a href="../../../../GameMaker_Language/GML_Reference/Time_Sources/time_source_create.htm" target="_blank">Time Source ID</a></span></p>
  <p> </p>
  <h4>Ejemplo 1:</h4>
  <p class="code">var _my_method = function()<br />
    {<br />
        instance_destroy();<br />
    }<br />
    <br />
    var _time_source = time_source_create(time_source_game, 300, time_source_units_frames, _my_method);<br />
    <br />
    time_source_start(time_source);
  </p>
  <p>En este ejemplo, queremos que la instancia se destruya a sí misma 300 fotogramas después.</p>
  <p>El código crea primero un método que simplemente llama a <a href="../Asset_Management/Instances/instance_destroy.htm"><span class="inline">instance_destroy()</span></a>.</p>
  <p>Luego crea una Fuente de <span data-keyref="Type_Resource_TimeSource">Tiempo</span>, heredando de la <span data-keyref="Type_Resource_TimeSource">Fuente de Tiempo</span> del Juego. Establece su periodo a <strong>300 fotogramas</strong>.</p>
  <p>Por último, pone en marcha la <span data-keyref="Type_Resource_TimeSource">Fuente del Tiempo</span>.</p>
  <p> </p>
  <h4>Ejemplo 2:</h4>
  <p class="code">var _my_method = function()<br />
    {<br />
        show_debug_message(&quot;A second has passed!&quot;);<br />
    }<br />
    <br />
    global.time_per_second = time_source_create(time_source_game, 1, time_source_units_seconds, _my_method, [], -1, time_source_expire_after);<br />
    <br />
    time_source_start(global.time_per_second);
  </p>
  <p>En este ejemplo, estamos creando una <span data-keyref="Type_Resource_TimeSource">Fuente de Tiempo</span> global que expira una vez cada segundo. Este código se colocaría en la raíz de un archivo <a href="../../../The_Asset_Editors/Scripts.htm"><span class="notranslate">script</span></a>.</p>
  <p>El código crea primero un método que imprime un mensaje en el registro de salida, diciendo <strong>&quot;¡Ha pasado un segundo!&quot;.</strong></p>
  <p>Luego crea una nueva Fuente de <span data-keyref="Type_Resource_TimeSource">Tiempo</span>, heredando de la <span data-keyref="Type_Resource_TimeSource">Fuente de Tiempo</span> del Juego. Establece su periodo en <strong>1 segundo</strong>.</p>
  <p>El método se pasa a la <span data-keyref="Type_Resource_TimeSource">Fuente de Tiempo</span> para que pueda ser llamado cada vez que expire. Se da un array vacío para los argumentos.</p>
  <p>El recuento de repeticiones se establece en -1, por lo que la <span data-keyref="Type_Resource_TimeSource">fuente de</span> tiempo nunca se detiene y sigue repitiendo para siempre. Su tipo de expiración se establece para que la llamada de retorno se ejecute en el primer fotograma después de su expiración.</p>
  <p>Por último, se pone en marcha la <span data-keyref="Type_Resource_TimeSource">Fuente de Tiempo</span>.</p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div>Atrás: <a data-xref="{title}" href="Time_Sources.htm">Fuentes de tiempo</a> </div>
        <div>Siguiente: <a data-xref="{title}" href="time_source_destroy.htm">time_source_destroy</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2022 Todos los derechos reservados</span></h5>
  </div>
  <!-- KEYWORDS
time_source_create
-->
  <!-- TAGS
time_source_create
-->
</body>
</html>